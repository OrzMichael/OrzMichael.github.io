<!DOCTYPE html>
<html lang="en">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            Android使用Google Breakpad进行崩溃日志管理 | 
        
        iShadow丶
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#03A9F4">
    <meta name="author" content="iShadow丶">
    <meta name="description" content="好难写的一句话~">
    <meta name="keywords" content="null,Android,Google Breakpad,Crash">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="iShadow丶">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://kippies.cn">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android使用Google Breakpad进行崩溃日志管理 | iShadow丶">
    <meta property="og:description" content="好难写的一句话~">
    <meta property="og:article:tag" content="Android"> <meta property="og:article:tag" content="Google Breakpad"> <meta property="og:article:tag" content="Crash"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.en.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #0288D1;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #03A9F4 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #03A9F4 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #03A9F4 !important;
  }

  .toTop {
    background: #212121 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #212121;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #212121;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #212121;
  }

  .post-toc a:hover {
    color: #0288D1;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#集成-google-breakpad到Android项目中"><span class="post-toc-number">1.</span> <span class="post-toc-text">集成 google-breakpad到Android项目中</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#添加google-beakpad代码："><span class="post-toc-number">1.1.</span> <span class="post-toc-text">添加google-beakpad代码：</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#加入对googole-breakpad的引用："><span class="post-toc-number">1.2.</span> <span class="post-toc-text">加入对googole-breakpad的引用：</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#包含搜索路径："><span class="post-toc-number">1.3.</span> <span class="post-toc-text">包含搜索路径：</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#添加google-breakpad-的-c-代码："><span class="post-toc-number">2.</span> <span class="post-toc-text">添加google breakpad 的 c++代码：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#编译C-代码成-so文件（步骤略），通过加载libbreakpad-client-so，调用initial-初始化之后，就开始崩溃捕获。"><span class="post-toc-number">3.</span> <span class="post-toc-text">编译C++代码成.so文件（步骤略），通过加载libbreakpad_client.so，调用initial()初始化之后，就开始崩溃捕获。</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解析生成的dmp文件："><span class="post-toc-number">4.</span> <span class="post-toc-text">解析生成的dmp文件：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#执行生成符号文件命令："><span class="post-toc-number">5.</span> <span class="post-toc-text">执行生成符号文件命令：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#继续执行命令："><span class="post-toc-number">6.</span> <span class="post-toc-text">继续执行命令：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#打开-crashed-log-文件："><span class="post-toc-number"></span> <span class="post-toc-text">打开 crashed.log 文件：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#如果没有生成符号文件，则-crashed-log-文件中的信息如下："><span class="post-toc-number"></span> <span class="post-toc-text">如果没有生成符号文件，则 crashed.log 文件中的信息如下：</span></a>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                Android使用Google Breakpad进行崩溃日志管理
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>iShadow丶</strong>
        <span>Jul 10, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Android/">Android</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Crash/">Crash</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Google-Breakpad/">Google Breakpad</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;Views
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android使用Google Breakpad进行崩溃日志管理&url=http://kippies.cn//2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                Share to Weibo
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android使用Google Breakpad进行崩溃日志管理&url=http://kippies.cn//2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/index.html&via=iShadow丶" target="_blank">
            <li class="mdl-menu__item">
                Share to Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://kippies.cn//2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://kippies.cn//2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <ul>
<li>开发过程中，最担心的问题就是程序崩溃，而且还不知道崩溃的原因，现在使用Google Breakpad来跟踪崩溃的位置，非常方便；由于目前使用Mac系统开发，Google Breadpad处理Android崩溃日志时需要Linux环境，借助 vagrant 可以非常方便地在Mac使用Ubuntu环境。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ varant ssh</span><br><span class="line">$ cd /vagrant</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install build-essential</span><br><span class="line">$ svn checkout http:<span class="comment">//google-breakpad.googlecode.com/svn/trunk/ google-breakpad-read-only</span></span><br><span class="line">$ cd google-breakpad-read-only</span><br><span class="line">$ ./configure</span><br><span class="line">$ make</span><br></pre></td></tr></table></figure>
<p>执行完上面的命令将会在<code>google-breakpad-read-only/src/processor</code>目录下生成<code>minidump_stackwalk</code>工具，用于导出crash log.<br><code>google-breakpad-read-only/src/tools/linux/dump_syms</code>目录下生成 dump_syms工具，用于导出符号文件。<br><code>google-breakpad-read-only/src/client/linux</code> 目录下生成 libbreakpad_client.a。</p>
<a id="more"></a>
<ul>
<li>如果编译遇到 <code>“cc1plus: warnings being treated as errors“</code>错误，请将<code>google-breakpad-read-only/Makefile</code>文件中<code>&quot;* -Werror* &quot;</code>删除，重新编译。</li>
<li>如果make的时候遇到 “/lib64/libc.so.6: version `GLIBC_2.14’ not found “错误，说明 glibc 没有安装，安装方法请移步：<a href="http://my.oschina.net/zhangxu0512/blog/262275" target="_blank" rel="external">http://my.oschina.net/zhangxu0512/blog/262275</a></li>
</ul>
<h4 id="集成-google-breakpad到Android项目中"><a href="#集成-google-breakpad到Android项目中" class="headerlink" title="集成 google-breakpad到Android项目中"></a>集成 google-breakpad到Android项目中</h4><h5 id="添加google-beakpad代码："><a href="#添加google-beakpad代码：" class="headerlink" title="添加google-beakpad代码："></a>添加google-beakpad代码：</h5><ul>
<li><p>方法一：</p>
<ul>
<li>拷贝 <code>libbreakpad_client.a</code> 到 jni 目录下。</li>
<li>打开android项目的 Android.mk文件，在 LOCAL_PATH := $(call my-dir) 下加入如下代码：</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">include $(CLEAR_VARS)  </span><br><span class="line">LOCAL_MODULE := breakpad_client  </span><br><span class="line">LOCAL_MODULE_FILENAME := breakpad_client  </span><br><span class="line">LOCAL_SRC_FILES := libbreakpad_client.a  </span><br><span class="line">include $(PREBUILT_STATIC_LIBRARY)</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(call <span class="keyword">import</span>-<span class="keyword">module</span>,google-breakpad-read-only/android/google_breakpad)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>方法三： </p>
<ul>
<li>将 google-breakpad 源代码里面的src文件夹拷贝到项目的jni目录下；</li>
<li><p>修改Android.mk文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    LOCAL_PATH := $(call my-dir)</span><br><span class="line">	include $(CLEAR_VARS)</span><br><span class="line">	LOCAL_MODULE := breakpad_client</span><br><span class="line">	LOCAL_CPP_EXTENSION := .cc .cpp</span><br><span class="line">	LOCAL_ARM_MODE := arm</span><br><span class="line">	LOCAL_SRC_FILES := \</span><br><span class="line">    main.cpp \</span><br><span class="line">    src/client/linux/crash_generation/crash_generation_client.cc \</span><br><span class="line">    src/client/linux/handler/exception_handler.cc \</span><br><span class="line">    src/client/linux/handler/minidump_descriptor.cc \</span><br><span class="line">    src/client/linux/<span class="built_in">log</span>/<span class="built_in">log</span>.cc \</span><br><span class="line">    src/client/linux/minidump_writer/linux_dumper.cc \</span><br><span class="line">    src/client/linux/minidump_writer/linux_ptrace_dumper.cc \</span><br><span class="line">    src/client/linux/minidump_writer/minidump_writer.cc \</span><br><span class="line">    src/client/linux/microdump_writer/microdump_writer.cc \</span><br><span class="line">    src/client/linux/dump_writer_common/ucontext_reader.cc \</span><br><span class="line">    src/client/linux/dump_writer_common/seccomp_unwinder.cc \</span><br><span class="line">    src/client/linux/dump_writer_common/thread_info.cc \</span><br><span class="line">    src/client/minidump_file_writer.cc \</span><br><span class="line">    src/common/android/breakpad_getcontext.S \</span><br><span class="line">    src/common/convert_UTF.c \</span><br><span class="line">    src/common/md5.cc \</span><br><span class="line">    src/common/string_conversion.cc \</span><br><span class="line">    src/common/linux/elfutils.cc \</span><br><span class="line">    src/common/linux/file_id.cc \</span><br><span class="line">    src/common/linux/guid_creator.cc \</span><br><span class="line">    src/common/linux/linux_libc_support.cc \</span><br><span class="line">    src/common/linux/memory_mapped_file.cc \</span><br><span class="line">    src/common/linux/safe_readlink.cc</span><br><span class="line">LOCAL_C_INCLUDES        := $(LOCAL_PATH)/src/common/android/include \</span><br><span class="line">                           $(LOCAL_PATH)/src                        </span><br><span class="line">LOCAL_C_INCLUDES += $(NDK_ROOT)/sources/cxx-stl/stlport/stlport</span><br><span class="line">LOCAL_EXPORT_C_INCLUDES := $(LOCAL_C_INCLUDES)</span><br><span class="line">LOCAL_EXPORT_LDLIBS     := -llog</span><br><span class="line">LOCAL_LDLIBS    := -llog</span><br><span class="line">LOCAL_LDLIBS += $(NDK_ROOT)/sources/cxx-stl/stlport/libs/armeabi/libstlport_static.a</span><br><span class="line">include $(BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h5 id="加入对googole-breakpad的引用："><a href="#加入对googole-breakpad的引用：" class="headerlink" title="加入对googole-breakpad的引用："></a>加入对googole-breakpad的引用：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_WHOLE_STATIC_LIBRARIES += breakpad_client</span><br></pre></td></tr></table></figure>
<h5 id="包含搜索路径："><a href="#包含搜索路径：" class="headerlink" title="包含搜索路径："></a>包含搜索路径：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$GOOGLE_BREAKPAD_PATH/src  </span><br><span class="line">$GOOGLE_BREAKPAD_PATH/src/common/android/include</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>本文使用的是第三种集成方法。
</code></pre><h4 id="添加google-breakpad-的-c-代码："><a href="#添加google-breakpad-的-c-代码：" class="headerlink" title="添加google breakpad 的 c++代码："></a>添加google breakpad 的 c++代码：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span>   </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"com_test_crash_TestCrash.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"client/linux/handler/exception_handler.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"client/linux/handler/minidump_descriptor.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"log.h"</span></span></span><br><span class="line"></span><br><span class="line">google_breakpad::ExceptionHandler* exceptionHandler;</span><br><span class="line"></span><br><span class="line">JavaVM *jvm = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">onNativeCrash</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* info)</span> </span>&#123;</span><br><span class="line">    JNIEnv *env = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> result = jvm-&gt;GetEnv((void **) &amp;env, JNI_VERSION_1_6);</span><br><span class="line">    <span class="keyword">if</span> (result != JNI_OK) &#123;</span><br><span class="line">        LOGE(<span class="string">"%s"</span>, <span class="string">"jvm-&gt;GetEnv null"</span>);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    jclass crashPinClass = env-&gt;FindClass(</span><br><span class="line">            <span class="string">"com/test/crash/TestCrash"</span>);</span><br><span class="line">    <span class="keyword">if</span> (crashPinClass == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        LOGE(<span class="string">"%s"</span>, <span class="string">"FindClass com/test/crash/TestCrash null"</span>);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    jmethodID crashReportMethod = env-&gt;GetStaticMethodID(crashPinClass,</span><br><span class="line">            <span class="string">"onNativeCrash"</span>, <span class="string">"(Ljava/lang/String;)V"</span>);</span><br><span class="line">    <span class="keyword">if</span> (crashReportMethod == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        LOGE(<span class="string">"%s"</span>, <span class="string">"GetMethod onNativeCrash null"</span>);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    jstring crashInfo = env-&gt;NewStringUTF(info);</span><br><span class="line">    env-&gt;CallStaticVoidMethod(crashPinClass, crashReportMethod, crashInfo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 崩溃回调</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DumpCallback</span><span class="params">(<span class="keyword">const</span> google_breakpad::MinidumpDescriptor&amp; descriptor,</span><br><span class="line">        <span class="keyword">void</span>* context, <span class="keyword">bool</span> succeeded)</span> </span>&#123;</span><br><span class="line">    LOGE(<span class="string">"Dump path: %s\n"</span>, descriptor.path());</span><br><span class="line">    onNativeCrash(<span class="string">""</span>);</span><br><span class="line">    return succeeded;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> <span class="function">jint <span class="title">JNI_OnLoad</span><span class="params">(JavaVM *vm, <span class="keyword">void</span>* <span class="comment">/*reserved*/</span>)</span> </span>&#123;</span><br><span class="line">    LOGE(<span class="string">"JNI_OnLoad"</span>);</span><br><span class="line">    jvm = vm;</span><br><span class="line">    return JNI_VERSION_1_6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过java代码调用initial()方法传人dmp文件保存的路径</span></span><br><span class="line"><span class="function">JNIEXPORT <span class="keyword">void</span> JNICALL <span class="title">Java_com_test_crash_TestCrash_initial</span><span class="params">(JNIEnv* env, jobject obj, jstring filepath)</span> </span>&#123;</span><br><span class="line">    LOGE(<span class="string">"The Momo native crash initial."</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *path = env-&gt;GetStringUTFChars(filepath, <span class="number">0</span>);</span><br><span class="line">    google_breakpad::<span class="function">MinidumpDescriptor <span class="title">descriptor</span><span class="params">(path)</span></span>;</span><br><span class="line">    exceptionHandler = new google_breakpad::ExceptionHandler(descriptor, NULL, DumpCallback, NULL,</span><br><span class="line">            true, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// native crash 测试代码</span></span><br><span class="line"><span class="function">JNIEXPORT <span class="keyword">void</span> JNICALL <span class="title">Java_com_test_crash_TestCrash_crash</span><span class="params">(JNIEnv *,</span><br><span class="line">        jobject)</span> </span>&#123;</span><br><span class="line">    LOGE(<span class="string">"The test native crash."</span>);</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">int</span>* a = (int*)(NULL);</span><br><span class="line">    *a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h4 id="编译C-代码成-so文件（步骤略），通过加载libbreakpad-client-so，调用initial-初始化之后，就开始崩溃捕获。"><a href="#编译C-代码成-so文件（步骤略），通过加载libbreakpad-client-so，调用initial-初始化之后，就开始崩溃捕获。" class="headerlink" title="编译C++代码成.so文件（步骤略），通过加载libbreakpad_client.so，调用initial()初始化之后，就开始崩溃捕获。"></a>编译C++代码成.so文件（步骤略），通过加载libbreakpad_client.so，调用initial()初始化之后，就开始崩溃捕获。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCrash</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 加载动态链接库(加载.so最好放在application中)</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.loadLibrary(<span class="string">"breakpad_client"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Error e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">initial</span><span class="params">(String filePath)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// native crash测试代码方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">crash</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="解析生成的dmp文件："><a href="#解析生成的dmp文件：" class="headerlink" title="解析生成的dmp文件："></a>解析生成的dmp文件：</h4><ul>
<li>回到ubuntu环境，建立一个Dump目录：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir Dump</span><br></pre></td></tr></table></figure>
<p>分别将生成的.dmp文件、minidump_stackwalk、dump_syms、android项目下的obj/local/armeabi/libxxx.so库拷贝到Dump目录。</p>
<ul>
<li><p>特别说明：libxxx.so文件必须是obj/local/armeabi/ 文件夹下的，这个里面so文件包含了debug信息，相对lib下的so文件来说体积很大，有可能上百兆。</p>
</li>
<li><p>创建好的Dump文件夹路径在“个人 —&gt; ubuntu —&gt; Dump”；</p>
</li>
</ul>
<h4 id="执行生成符号文件命令："><a href="#执行生成符号文件命令：" class="headerlink" title="执行生成符号文件命令："></a>执行生成符号文件命令：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /Dump  </span><br><span class="line">$ dump_syms libxxx.so &gt; libxxx.so.sym</span><br></pre></td></tr></table></figure>
<ul>
<li>查看libxxx.so.sym文件内容，头部会有，<code>BB0351B14DDA42A6D36FA6EA358B49D50</code> 这样的字符串：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ head -n1 libxxx.so.sym</span><br><span class="line">MODULE Linux arm BB0351B14DDA42A6D36FA6EA358B49D50 libxxx.so</span><br></pre></td></tr></table></figure>
<h4 id="继续执行命令："><a href="#继续执行命令：" class="headerlink" title="继续执行命令："></a>继续执行命令：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p symbols/libxxx.so/BB0351B14DDA42A6D36FA6EA358B49D50/  </span><br><span class="line">$ mv libxxx.so.sym symbols/libxxx.so/BB0351B14DDA42A6D36FA6EA358B49D50/</span><br></pre></td></tr></table></figure>
<ul>
<li>导出崩溃堆栈信息文件( 确保.dmp文件和 symbols目录是同级的 )：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./minidump_stackwalk filename.dmp symbols &gt; crashed.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<h3 id="打开-crashed-log-文件："><a href="#打开-crashed-log-文件：" class="headerlink" title="打开 crashed.log 文件："></a>打开 crashed.log 文件：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Thread <span class="number">0</span> (crashed)</span><br><span class="line"> <span class="number">0</span>  libxxx.so!Java_com_test_crash_TestCrash [TestCrash.cpp : <span class="number">68</span> + <span class="number">0x8</span>]</span><br><span class="line">     r0 = <span class="number">0x00000027</span>    r1 = <span class="number">0xc3dab5eb</span>    r2 = <span class="number">0x00000001</span>    r3 = <span class="number">0x00000000</span></span><br><span class="line">     r4 = <span class="number">0x0000026a</span>    r5 = <span class="number">0x12f99f20</span>    r6 = <span class="number">0x12d63e00</span>    r7 = <span class="number">0x75c4a1b0</span></span><br><span class="line">     r8 = <span class="number">0x1302b9e0</span>    r9 = <span class="number">0xb4f07800</span>   r10 = <span class="number">0x0000003a</span>   r12 = <span class="number">0xb6e98929</span></span><br><span class="line">     fp = <span class="number">0x0000003a</span>    sp = <span class="number">0xbebb8f58</span>    lr = <span class="number">0xa289aafc</span>    pc = <span class="number">0xa289ab04</span></span><br></pre></td></tr></table></figure>
<ul>
<li>[TestCrash.cpp : 68 + 0x8]：定位到TestCrash.cpp的 第68行，从左到右第8个字符 ，产生的崩溃。<h3 id="如果没有生成符号文件，则-crashed-log-文件中的信息如下："><a href="#如果没有生成符号文件，则-crashed-log-文件中的信息如下：" class="headerlink" title="如果没有生成符号文件，则 crashed.log 文件中的信息如下："></a>如果没有生成符号文件，则 crashed.log 文件中的信息如下：</h3></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> Thread <span class="number">0</span> (crashed) </span><br><span class="line"> <span class="number">0</span>  libxxx.so + <span class="number">0xa289ab04</span> </span><br><span class="line">     r0 = <span class="number">0x00000027</span>    r1 = <span class="number">0xc3dab5eb</span>    r2 = <span class="number">0x00000001</span>    r3 = <span class="number">0x00000000</span> </span><br><span class="line">     r4 = <span class="number">0x0000026a</span>    r5 = <span class="number">0x12f99f20</span>    r6 = <span class="number">0x12d63e00</span>    r7 = <span class="number">0x75c4a1b0</span> </span><br><span class="line">     r8 = <span class="number">0x1302b9e0</span>    r9 = <span class="number">0xb4f07800</span>   r10 = <span class="number">0x0000003a</span>   r12 = <span class="number">0xb6e98929</span> </span><br><span class="line">     fp = <span class="number">0x0000003a</span>    sp = <span class="number">0xbebb8f58</span>    lr = <span class="number">0xa289aafc</span>    pc = <span class="number">0xa289ab04</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">* 通过上面的信息，我们没办法直观的看出哪里导致的崩溃，所以需要使用NDK中的`arm-linux-androideabi-addr2line` 工具定位崩溃；</span><br><span class="line">* `arm-linux-androideabi-addr2line` 路径为：`$NDK_ROOT/toolchains/arm-linux-androideabi<span class="number">-4.8</span>/prebuilt/darwin-x86/bin/arm-linux-androideabi-addr2line`</span><br><span class="line">* usage: `arm-linux-androideabi-addr2line -C -f -e &lt;库路径&gt; &lt;内存地址&gt;`</span><br><span class="line"></span><br><span class="line">``` C++</span><br><span class="line">arm-linux-androideabi-addr2line -C -f -e project/test/obj/local/armeabi/libxxx.so <span class="number">0xa289ab04</span></span><br></pre></td></tr></table></figure>
<ul>
<li>这时候就可以在终端中看到是 libxxx.so 中的哪个文件的那一行发生异常了，接下来可以使用日志追踪有问题的代码了。</li>
</ul>
<hr>
<ul>
<li>参考：<a href="http://blog.linguofeng.com/archive/2014/04/02/google-breakpad-android.html" target="_blank" rel="external">http://blog.linguofeng.com/archive/2014/04/02/google-breakpad-android.html</a></li>
</ul>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #03A9F4 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #03A9F4 !important;
    }
    #ds-reset .ds-highlight {
        color: #03A9F4 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key="2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/"
        data-url="http://kippies.cn/2016/07/10/Android使用Google-Breakpad进行崩溃日志管理/"
        data-title="Android使用Google Breakpad进行崩溃日志管理">
    </div>
    <!-- 多说评论框 end -->
</div>






                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/11/13/InterfaceDoc/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Newer
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/07/10/OS-X下使用vagrant安装ubuntu环境/" id="post_nav-older" class="next-content">
            Older
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="iShadow丶's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        a584551855@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="https://github.com/OrzMichael" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                Home
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    Archives
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2016/11/">November 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">July 2016<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">June 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">May 2016<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            Theme - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/elsdnwn121314" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.png);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/OrzMichael" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;iShadow丶
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        queue.offer(function(){
            var duoshuoQuery = {
                short_name: 'kippies'
            };
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';
                ds.async = true;
                ds.src = 'https://static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                 || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        });
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
